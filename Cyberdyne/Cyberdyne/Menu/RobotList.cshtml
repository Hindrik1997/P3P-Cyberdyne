@using Resources;
@{
    Layout = "~/_SiteLayout.cshtml";
    Page.Title = "Robot List";

    RepoManager RM = new RepoManager();
    var searchTerm = "";
    if (!Request.QueryString["searchRobot"].IsEmpty())
    {
        //RM.robotRepository.RemoveAll();
        searchTerm = "%" + Request["searchRobot"] + "%";
        RM.GetRobotsByName(searchTerm);
    }

    else
    {
        RM.GetRobots();

    }
}
@* Vertaling Gebeuren hier ook nog voor aub :) *@
<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title></title>
    </head>
    <body>
        <form method="get">
        <div>
            <label for="SearchRobot">Robot 2 Look for:</label>
            <input type="text" name="SearchRobot" value="@Request.QueryString["searchRobot"]" />
            <input type="submit" value="Search Robot" /><br />
 
            (leave blank to list all Robots.)<br />
        </div>
        </form>
        <h1>Products</h1>
       
            @foreach (var Robot in RM.robotRepository)
            {
                <div class="col-sm-6">
                    <a href="~/Menu/Robots?id=@Robot.ID">
                        <img class="float-left" src="@Robot.images[0].imageLocation" alt="Terminator" width="50%">
                        <!--TODO: Assign data from the database-->
                        <h1>@Robot.name</h1>
                        <h3>@Robot.category</h3>
                        @if (UICulture.Equals("nl-NL")) { 
                                <p>@Robot.descriptionDutch</p>
                        }
                        else
                        {
                            <p>@Robot.descriptionEnglish</p>
                        }
                    </a>
                </div>
            }
    </body>
</html>
